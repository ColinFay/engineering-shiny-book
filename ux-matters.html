<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 6 UX Matters | Engineering Production-Grade Shiny Apps</title>
<meta name="author" content="Colin Fay">
<meta name="author" content="Sébastien Rochette">
<meta name="author" content="Vincent Guyader">
<meta name="author" content="Cervan Girard">
<meta name="description" content="Let’s state the truth: no matter how complex and innovative your back-end is, your application is bad if your user experience (UX) is bad. That’s the hard truth. We have a natural tendency, as...">
<meta name="generator" content="bookdown 0.33 with bs4_book()">
<meta property="og:title" content="Chapter 6 UX Matters | Engineering Production-Grade Shiny Apps">
<meta property="og:type" content="book">
<meta property="og:image" content="https://raw.githubusercontent.com/ThinkR-open/engineering-shiny-book/master/img/engineering-shiny.jpg">
<meta property="og:description" content="Let’s state the truth: no matter how complex and innovative your back-end is, your application is bad if your user experience (UX) is bad. That’s the hard truth. We have a natural tendency, as...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 6 UX Matters | Engineering Production-Grade Shiny Apps">
<meta name="twitter:description" content="Let’s state the truth: no matter how complex and innovative your back-end is, your application is bad if your user experience (UX) is bad. That’s the hard truth. We have a natural tendency, as...">
<meta name="twitter:image" content="https://raw.githubusercontent.com/ThinkR-open/engineering-shiny-book/master/img/engineering-shiny.jpg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap/bootstrap.bundle.min.js"></script><script src="libs/bs3compat/transition.js"></script><script src="libs/bs3compat/tabs.js"></script><script src="libs/bs3compat/bs3compat.js"></script><link href="libs/bs4_book/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book/bs4_book.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-149994171-1"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-149994171-1');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
          margin-bottom: 0em;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/thinkr.css">
<link rel="stylesheet" href="css/style_gitbook.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Engineering Production-Grade Shiny Apps</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Introduction</a></li>
<li><a class="" href="foreword.html">Foreword</a></li>
<li><a class="" href="application-presentation.html">Application presentation</a></li>
<li class="book-part">Building Successful {shiny} Apps</li>
<li><a class="" href="successful-shiny-app.html"><span class="header-section-number">1</span> About Successful {shiny} Apps</a></li>
<li><a class="" href="planning-ahead.html"><span class="header-section-number">2</span> Planning Ahead</a></li>
<li><a class="" href="structuring-project.html"><span class="header-section-number">3</span> Structuring Your Project</a></li>
<li><a class="" href="golem.html"><span class="header-section-number">4</span> Introduction to {golem}</a></li>
<li><a class="" href="workflow.html"><span class="header-section-number">5</span> The Workflow</a></li>
<li class="book-part">Step 1: Design</li>
<li><a class="active" href="ux-matters.html"><span class="header-section-number">6</span> UX Matters</a></li>
<li><a class="" href="dont-rush-into-coding.html"><span class="header-section-number">7</span> Don’t Rush into Coding</a></li>
<li class="book-part">Step 2: Prototype</li>
<li><a class="" href="setting-up-for-success.html"><span class="header-section-number">8</span> Setting up for Success with {golem}</a></li>
<li><a class="" href="building-ispum-app.html"><span class="header-section-number">9</span> Building an “ipsum-app”</a></li>
<li class="book-part">Step 3: Build</li>
<li><a class="" href="build-app-golem.html"><span class="header-section-number">10</span> Building the App with {golem}</a></li>
<li class="book-part">Step 4: Strengthen</li>
<li><a class="" href="build-yourself-safety-net.html"><span class="header-section-number">11</span> Build Yourself a Safety Net</a></li>
<li><a class="" href="version-control.html"><span class="header-section-number">12</span> Version Control</a></li>
<li class="book-part">Step 5: Deploy</li>
<li><a class="" href="deploy.html"><span class="header-section-number">13</span> Deploy Your Application</a></li>
<li class="book-part">Optimizing</li>
<li><a class="" href="need-for-optimization.html"><span class="header-section-number">14</span> The Need for Optimization</a></li>
<li><a class="" href="common-app-caveats.html"><span class="header-section-number">15</span> Common Application Caveats</a></li>
<li><a class="" href="optimizing-shiny-code.html"><span class="header-section-number">16</span> Optimizing {shiny} Code</a></li>
<li><a class="" href="using-javascript.html"><span class="header-section-number">17</span> Using JavaScript</a></li>
<li><a class="" href="css.html"><span class="header-section-number">18</span> A Gentle Introduction to CSS</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="appendix-a---use-case-building-an-app-from-start-to-finish.html">Appendix A - Use Case: Building an App from Start to Finish</a></li>
<li><a class="" href="appendix-b---session-info.html">Appendix B - Session Info</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/ThinkR-open/engineering-shiny-book">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="ux-matters" class="section level1" number="6">
<h1>
<span class="header-section-number">6</span> UX Matters<a class="anchor" aria-label="anchor" href="#ux-matters"><i class="fas fa-link"></i></a>
</h1>
<p>Let’s state the truth: no matter how complex and innovative your back-end is, your application is bad if your user experience (UX) is bad.
That’s the hard truth.
We have a natural tendency, as R-coders, to be focused on the back-end, i.e. the server part of the application, which is perfectly normal—chances are you did not come to R to design front-ends.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;The front-end is the visual part of your application - the one your user interacts with - as opposed to the back-end, which is what is installed on the server, the part the end user does not see.
In &lt;code&gt;{shiny}&lt;/code&gt;, front-end corresponds to the UI, while back-end, to the server.&lt;/p&gt;"><sup>26</sup></a></p>
<p>However, <strong>if people cannot understand how to use your application, or if your application front-end does not work at all, your application is not successful no matter how innovative and incredible the computation algorithms in the back-end are</strong>.</p>
<p>As you are building a complex, production-grade <a href="https://shiny.rstudio.com/">shiny</a> application, do not underestimate the necessity for a successful front-end - it is, after all, the first thing (and probably the only thing) that the end users of your web application will see.
However, our natural back-end/server logic as R developers can play against us in the long run - <strong>by neglecting the UI and the UX, you will make your application less likely to be adopted among your users, which is a good way to fail your application project</strong>.</p>
<div id="simplicity-is-gold" class="section level2" number="6.1">
<h2>
<span class="header-section-number">6.1</span> Simplicity is gold<a class="anchor" aria-label="anchor" href="#simplicity-is-gold"><i class="fas fa-link"></i></a>
</h2>
<blockquote>
<p>Simplify, then add lightness.</p>
<p><em>Colin Chapman CBE, Founder of Lotus Cars</em> (<a href="https://www.lotuscars.com/lotus-philosophy/" class="uri">https://www.lotuscars.com/lotus-philosophy/</a>)</p>
</blockquote>
<p>Aiming for simplicity is a hard thing, but some rules will help you build a better UX, paving the way for a successful application.</p>
<p>There are mainly two contexts where you will be building a web app with R: for professional use (<em>i.e.,</em> people will rely on the app to do their job), or for fun (<em>i.e.,</em> people will just use the app as a distraction).</p>
<p>But both cases have something in common: people will want the app to be usable, <strong>easily</strong> usable.</p>
<p>If people use your app in a professional context, they do not want to fight with your interface, read complex manuals, or lose time understanding what they are supposed to do and how they are supposed to use your application, at least when it comes to the core usage of the application.
This core usage needs to be “self-explanatory”, in the sense that, <strong>if possible, the main usage of the application does not require reading the manual</strong>; On the other hand, more advanced/rarely used features will need more detailed documentation.</p>
<p>In other words, they want an efficient tool, something that - beyond being accurate - is easy to grasp.
In a professional context, when it comes to “business applications”, remember that the quicker you understand the interface, the better the user experience.
Think about all the professional applications and software that you have been ranting about during your professional life, all these cranky user interfaces you did not understand and/or need to relearn every time you use them.
You do not want your app to be one of these applications.</p>
<p>On the other hand, if users open your app for fun, they are not going to fight against your application; they are just going to give up if the app is too complex to use.
Even a game has to appear easy to use when the users open it.</p>
<p>In this section, we will review two general principles: the “don’t make me think” principle, which states that <strong>interfaces should be as self-explanatory as possible</strong>, and the “rule of least surprise”, which states that elements should behave the way they are commonly expected to behave.
These two rules aim at solving one issue: the bigger the cognitive load of your app, the harder it will be for the end user to use it on a daily basis.</p>
<div id="how-we-read-the-web-scanning-content" class="section level3" number="6.1.1">
<h3>
<span class="header-section-number">6.1.1</span> How we read the web: Scanning content<a class="anchor" aria-label="anchor" href="#how-we-read-the-web-scanning-content"><i class="fas fa-link"></i></a>
</h3>
<p>One big lie we tell ourselves as developers is that the end user will use the app the way we designed it to be used (though to be honest, this is not true for any software).
We love to think that when faced with our app, the users will carefully read the instructions and make a rational decision based on careful examination of the inputs before doing what we expect them to do.
But the harsh truth is, that it is not what happens.</p>
<p>First of all, users rarely carefully read all the instructions: they <strong>scan</strong> and perform the first action that more or less matches what they need to do, i.e., they <strong>satisfice</strong> (a portmanteau of satisfy and suffice); a process shown in Figure <a href="ux-matters.html#fig:06-ux-matters-1">6.1</a>.
Navigating the web, users try to optimize their decision, not by making the decision that would be “optimal”, but by doing the first action that is sufficiently satisfactory in relevance.
They behave like that for a lot of reasons, but notably because they want to be as quick as possible on the web, and because the cost of being wrong is very low most of the time - even if you make the wrong decision on a website, chances are that you are just a “return” or “cancel” button away from canceling your last action.</p>

<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:06-ux-matters-1"></span>
<img src="img/scanning.png" alt="How we design a web page versus how a user will really scan it. From (Krug 2014)." width="100%"><p class="caption">
FIGURE 6.1: How we design a web page versus how a user will really scan it. From <span class="citation">(<a href="references.html#ref-stevekrug2014">Krug 2014</a>)</span>.
</p>
</div>
<p>For example, let’s have a look at the user interface of <a href="https://github.com/colinfay/hexmake">hexmake</a> <span class="citation">(<a href="references.html#ref-R-hexmake">Fay 2023g</a>)</span>, a <a href="https://shiny.rstudio.com/">shiny</a> app for building hex stickers, available at <a href="https://connect.thinkr.fr/hexmake/" class="uri">https://connect.thinkr.fr/hexmake/</a> (see Figure <a href="application-presentation.html#fig:00-app-presentation-3">0.3</a> for a screenshot of this application).</p>

<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:06-ux-matters-2"></span>
<img src="img/hexmake.png" alt="Snapshot of the {hexmake} {shiny} application on https://connect.thinkr.fr/hexmake/." width="100%"><p class="caption">
FIGURE 6.2: Snapshot of the <a href="https://github.com/colinfay/hexmake">hexmake</a> <a href="https://shiny.rstudio.com/">shiny</a> application on <a href="https://connect.thinkr.fr/hexmake/" class="uri">https://connect.thinkr.fr/hexmake/</a>.
</p>
</div>
<p>What will be your reading pattern for this application?
What is the first thing you will do when using this app?</p>
<p>There is an inherent logic in the application: each sub-menu is designed to handle one specific part of your sticker.
The second menu is the one used to download the sticker, and the last menu is the one used to open the “how to” of the app.
When opening this app, will your first move be to open the “How to”?
Will you open all the sub-menus and select the most “logical” one to start with?
Chances are that by reading this line, you think you will do that.
But in reality, we behave less rationally than we’d like to think.
What we do most of the time is click on the first thing that matches what we are here to do.
For example, most of the time we will first change the package name or upload an image before even opening the “about” section of this app.</p>
<p>Once users have scanned the page, they perform the first action that seems reasonable, or as coined in “Rational Choice and the Structure of the Environment” by Herbert A. Simon, “<strong>organisms adapt well enough to ‘satisfice’; they do not, in general, optimize.”</strong>.
In other words, <strong>“As soon as we find a link that seems like it might lead to what we’re looking for, there’s a very good chance that we’ll click it”</strong> (<em>Don’t Make Me Think</em>, <span class="citation">(<a href="references.html#ref-stevekrug2014">Krug 2014</a>)</span>).</p>
<p>What that also means is that user might perform what you’d expect to be “irrational” choices.
As they are scanning your application, they might do something unexpected, or use a part of your app in a way that you would not expect it to be used.
For example, if you are creating an app that is designed to take input data that has to be filled in following a specific form, you <strong>need</strong> to check that this requirement is fulfilled, or you will end up debugging errors on uncommon entries.</p>
<p>This is a pretty common thing about apps and about software in general: you have to expect users to use your product in ways you would not have expected, in ways that might seem absurd to you.
This is called “defensive programming” - you prevent the application from being used in an unexpected way, and instead of relying on the end user to be rational with their choice, we “defend” our function from unexpected inputs.</p>
<p>For example, consider this small app:</p>
<div class="sourceCode" id="cb82"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/">shiny</a></span><span class="op">)</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html">tagList</a></span><span class="op">(</span></span>
<span>    <span class="co"># Designing an interface that lets the </span></span>
<span>    <span class="co"># user select a species from iris, </span></span>
<span>    <span class="co"># then display a plot() of this dataset</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput</a></span><span class="op">(</span></span>
<span>      <span class="st">"species"</span>, </span>
<span>      <span class="st">"Choose one or more species"</span>,</span>
<span>      choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span>,</span>
<span>      multiple <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>      selected <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span>    <span class="op">)</span>, </span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput</a></span><span class="op">(</span><span class="st">"plot"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span></span>
<span>  <span class="va">input</span>, </span>
<span>  <span class="va">output</span>, </span>
<span>  <span class="va">session</span></span>
<span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="co"># Taking the species as input, and returning the plot </span></span>
<span>  <span class="co"># of the filtered dataset</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span></span>
<span>      <span class="va">iris</span><span class="op">[</span> <span class="va">iris</span><span class="op">$</span><span class="va">Species</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">input</span><span class="op">$</span><span class="va">species</span>, <span class="op">]</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p>What is wrong with this app?
Probably nothing from a developer point of view - there is a label stating that one should select one or more elements from the drop-down list, and then something is plotted below.
Pretty standard.
But what happens if the drop-down is empty?
Our first thought would be that this would never happen, as it is explicitly specified that there should be one or more elements selected.
In fact, chances are that even with this label, users will eventually end up with an empty <code><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput()</a></code>, leading to the printing of a red error where the plot should be.
We are lucky here, as the error only prevents the plot from being displayed; other errors could make the application crash.</p>
<p>What should we do?
<strong>Adopt a defensive programming mindset</strong>.
Every time you create interactive elements, inputs and outputs, or things the user might interact with, ask yourself: “What if that [crazy thing] happens? How do I handle the case where the minimal viable requirements for my app are not met?”
And in fact, you should not be focusing on that only for the user side - the back-end should also be examined for potential unexpected behaviors.
For example, if your <a href="https://shiny.rstudio.com/">shiny</a> app relies on a database connection, you should gracefully check that the connection is possible, and if it is not, send a message to your user that the database is not reachable, and that they should either restart the app or come back in a few minutes.</p>
<p>In fact, this is a crucial thing when it comes to making your app successful: <strong>you should always fail gracefully and informatively</strong>.
That means that even when your R code fails, the whole app should not fail.
If the R code fails for some reason, the user should either get nothing back or an informative bug message, not be faced with a grayish version of the application.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;If you want something different from this grayish screen when &lt;code&gt;{shiny}&lt;/code&gt; fails, you can have a look at the &lt;code&gt;{sever}&lt;/code&gt; package &lt;span class="citation"&gt;(&lt;a href="references.html#ref-R-sever"&gt;Coene 2021&lt;/a&gt;)&lt;/span&gt;, which allows to implement custom disconnected screen and error messages.&lt;/p&gt;'><sup>27</sup></a>
Note that using external widgets, like the one from the <a href="https://github.com/rstudio/DT">DT</a> package (or any other that binds to an external JavaScript library), can make this principle harder to apply: as you have less control over what is happening when using this widget, gracefully handling errors can be tricky.
Indeed, <a href="https://github.com/rstudio/DT">DT</a> sometimes returns errors that originates from the user’s browser, so that has nothing to do with R.
In that case, it might be hard to catch this error and gracefully manage it.
The only upside of this error is that it does not crash the whole application.</p>
<p>Because of the way <a href="https://shiny.rstudio.com/">shiny</a> is designed, a lot of R errors will make the <a href="https://shiny.rstudio.com/">shiny</a> app fail completely.
If you have not thought about this upfront, that means that a user might use the app for 10 minutes, do a series of specifications, enter parameters and data, only for the app to completely crash at some point.
The user has to then restart from scratch, because there is no native way - from there - to restart from where the app has crashed.
This is a very important thing to keep in mind when building <a href="https://shiny.rstudio.com/">shiny</a> apps: <strong>once the app has failed, there is no easy way to natively get it back to the moment just before it crashed</strong>, meaning that your users might lose a significant amount of the time they have spent configuring the app.</p>
<p>One good practice is to try, as much as possible, to <strong>wrap all server calls in some form of try-catch</strong> pattern.
That way, you can, for example, send a notification to the user if the process fails, either using a <a href="https://shiny.rstudio.com/">shiny</a> <span class="citation">(<a href="references.html#ref-R-shiny">Chang et al. 2022</a>)</span> notification function, an external package like <a href="https://github.com/daattali/shinyalert">shinyalert</a> <span class="citation">(<a href="references.html#ref-R-shinyalert">Attali and Edwards 2021</a>)</span>, or a custom JavaScript alert like <a href="https://github.com/ColinFay/notifyjsexample">notify.js</a>.
Here is a pseudo-code pattern for this using the <a href="https://github.com/ColinFay/attempt">attempt</a> <span class="citation">(<a href="references.html#ref-R-attempt">Fay 2020</a>)</span> package:</p>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/">shiny</a></span><span class="op">)</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="co"># Here, we would define the interface</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html">tagList</a></span><span class="op">(</span></span>
<span>    <span class="co"># [...]</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span></span>
<span>  <span class="va">input</span>, </span>
<span>  <span class="va">output</span>, </span>
<span>  <span class="va">session</span></span>
<span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="co"># We are attempting to connect to the database, </span></span>
<span>  <span class="co"># using a `connect_db()` connection</span></span>
<span>  <span class="va">conn</span> <span class="op">&lt;-</span> <span class="fu">attempt</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/attempt/man/attempt.html">attempt</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">connect_db</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="co"># if ever this connection failed, we notify the user </span></span>
<span>  <span class="co"># about this failed connection, so that they can know</span></span>
<span>  <span class="co"># what has gone wrong</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu">attempt</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/attempt/man/is_try_error.html">is_try_error</a></span><span class="op">(</span><span class="va">conn</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="co"># Notify the user</span></span>
<span>    <span class="fu">send_notification</span><span class="op">(</span><span class="st">"Could not connect"</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="co"># Continue computing if the connection was successful</span></span>
<span>    <span class="fu">continue_computing</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="building-a-self-evident-app-or-at-least-self-explanatory" class="section level3" number="6.1.2">
<h3>
<span class="header-section-number">6.1.2</span> Building a self-evident app (or at least self-explanatory)<a class="anchor" aria-label="anchor" href="#building-a-self-evident-app-or-at-least-self-explanatory"><i class="fas fa-link"></i></a>
</h3>
<p>One of the goals of a usable app is to make it self-evident, and fall back to a self-explanatory app if the first option is too complex a goal.
What is the difference between the two?</p>
<ul>
<li><p>self-evident: “Not needing to be demonstrated or explained; obvious.” <a href="https://www.lexico.com/en/definition/self_evident">lexico.com</a></p></li>
<li><p>self-explanatory: “Easily understood; not needing explanation.” <a href="https://www.lexico.com/en/definition/self_explanatory">lexico.com</a></p></li>
</ul>
<p>The first is that the app is designed in such a way that there is no learning curve to using it.
A self-explanatory app has a small learning curve, but it is designed in a way that will make the user understand it in a matter of seconds.</p>
<p>Let’s, for example, get back to our <a href="http://www.github.com/ColinFay/tidytuesday201942">tidytuesday201942</a> <span class="citation">(<a href="references.html#ref-R-tidytuesday201942">Fay 2023l</a>)</span> application available at <a href="https://connect.thinkr.fr/tidytuesday201942/">connect.thinkr.fr/tidytuesday201942</a>.
By itself, this application is not self-evident: you need to have a certain amount of background knowledge before understanding what this application was designed for.
For example, you might need to have a vague sense of what <code>tidytuesday</code> is.
If you do not, you will have to read the home text, which will help you understand what this is.
Then, if we have a look at the menu elements, we see that these are a series of functions from <a href="https://ggplot2.tidyverse.org">ggplot2</a> <span class="citation">(<a href="references.html#ref-R-ggplot2">Wickham, Chang, et al. 2023</a>)</span>: without any background about the package, you might find it difficult to understand what this app actually does.</p>
<p>Yet, if you want to understand what this app is designed for, you will find enough information either on the home page or in the About section, with external links if needed.
And of course, when building apps, context matters.
The <a href="http://www.github.com/ColinFay/tidytuesday201942">tidytuesday201942</a> app is one that has been developed in the context of <code>tidytuesday</code>, an online weekly event for learning data analysis, mainly through the use of <a href="https://tidyverse.tidyverse.org">tidyverse</a> packages.
There is a good chance visitors of the app will already know what <a href="https://ggplot2.tidyverse.org">ggplot2</a> is when visiting the app.</p>
<div id="a.-about-the-rule-of-least-surprise" class="section level4 unnumbered">
<h4>A. About the “Rule of Least Surprise”<a class="anchor" aria-label="anchor" href="#a.-about-the-rule-of-least-surprise"><i class="fas fa-link"></i></a>
</h4>
<p>This rule is also known as “Principle of Least Astonishment.”</p>
<blockquote>
<p>Rule of Least Surprise: In interface design, always do the least surprising thing.</p>
<p><em>The Art of UNIX Programming</em> <span class="citation">(<a href="references.html#ref-ericraymond2003">Raymond 2003</a>)</span></p>
</blockquote>
<p>When we are browsing the web, <strong>we have a series of pre-conceptions about what things are and what they do</strong>.
For example, we expect an underline text to be clickable, so there is a good chance that if you use underlined text in your app, the user will try to click on it.
Usually, the link is also colored differently from the rest of the text.
The same goes for the pointer of the mouse, which usually switches from an arrow to a small hand with a finger up.
A lot of other conventions exist on the web, and you should endeavor to follow them: a clickable link should have at least one of the properties we just described—and if it is neither underlined nor colored and does not change the pointer when it is hovered, chances are that the user will not click on it.</p>
<p>Just imagine for a second if our “Download” button in the <a href="http://www.github.com/ColinFay/tidytuesday201942">tidytuesday201942</a> app did not actually download the graph you had generated.
Even more, imagine if this button did not download the graph but something else.
How would you feel about this experience?</p>
<p>And it is not just about links: almost every visual element on a web page is surrounded by conventions.
Buttons should have borders.
Links should appear clickable.
Bigger texts are headers, the bigger the more important.
Elements that are “visually nested” are related.</p>
<p>Of course, this is not an absolute rule, and there is always room for creativity when it comes to design, but you should keep in mind that too much surprise can lead to users being lost when it comes to understanding how to use the application.</p>
<p>Weirdly enough, that is an easy thing to spot when we arrive on a web page or an app: it can either feel “natural”, or you can immediately see that something is off.
The hard thing is that it is something you spot when you are a new-comer: developing the app makes us so familiar with the app that we might miss when something is not used the way it is conventionally used.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;For a good summary of these, see “The cranky user: The Principle of Least Astonishmen” &lt;a href="https://www.ibm.com/developerworks/web/library/us-cranky10/us-cranky10-pdf.pdf" class="uri"&gt;https://www.ibm.com/developerworks/web/library/us-cranky10/us-cranky10-pdf.pdf&lt;/a&gt;&lt;/p&gt;'><sup>28</sup></a></p>
<p>Let’s exemplify this with the “Render” button from the <a href="https://connect.thinkr.fr/tidytuesday201942/"><code>{tidytuesday201942}</code></a> application.
This app is built on top of Bootstrap 4, which has no CSS class for a <a href="https://shiny.rstudio.com/">shiny</a> action button.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;&lt;code&gt;{shiny}&lt;/code&gt; is built on top of Bootstrap 3, and the action buttons are of class &lt;code&gt;btn-default&lt;/code&gt;, which was removed in Bootstrap 4.&lt;/p&gt;"><sup>29</sup></a>
Result: without any further CSS, the buttons do not come out as buttons, making it harder to decipher that they are actually buttons.
Compare the native design shown in Figure <a href="ux-matters.html#fig:06-ux-matters-5">6.3</a> to the one with a little bit of CSS (which is the one online) shown in Figure <a href="ux-matters.html#fig:06-ux-matters-6">6.4</a>.</p>

<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:06-ux-matters-5"></span>
<img src="img/tidytuesdaybutton1.png" alt="Snapshot of {tidytuesday201942} without borders around the “Render Plot” button." width="100%"><p class="caption">
FIGURE 6.3: Snapshot of <a href="http://www.github.com/ColinFay/tidytuesday201942">tidytuesday201942</a> without borders around the “Render Plot” button.
</p>
</div>

<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:06-ux-matters-6"></span>
<img src="img/tidytuesdaybutton2.png" alt="Snapshot of {tidytuesday201942} with borders around the “Render Plot” button." width="100%"><p class="caption">
FIGURE 6.4: Snapshot of <a href="http://www.github.com/ColinFay/tidytuesday201942">tidytuesday201942</a> with borders around the “Render Plot” button.
</p>
</div>
<p>Yes, it is subtle, yet the second version of the button is clearer to understand.</p>
<p>Least surprise is crucial to make the user experience a good one: users rarely think that if something is behaving unexpectedly on an app, it is because of the app: they will usually think it is their fault.
Same goes for the application failing or behaving in an unexpected way: most users think they are “doing it wrong”, instead of blaming the designer of the software.</p>
<blockquote>
<p>When users are astonished they usually assume that they have made a mistake; they are unlikely to realize that the page has astonished them.
They are more likely to feel that they are at fault for not anticipating the page.
Don’t take advantage of this; making users feel stupid is not endearing.</p>
<p><em>The cranky user: The Principle of Least Astonishment</em> (<a href="https://www.ibm.com/developerworks/web/library/us-cranky10/us-cranky10-pdf.pdf" class="uri">https://www.ibm.com/developerworks/web/library/us-cranky10/us-cranky10-pdf.pdf</a>)</p>
</blockquote>
</div>
<div id="b.-thinking-about-progression" class="section level4 unnumbered">
<h4>B. Thinking about progression<a class="anchor" aria-label="anchor" href="#b.-thinking-about-progression"><i class="fas fa-link"></i></a>
</h4>
<p>If there is a progression in your app, you should <strong>design a clear pattern of moving forward</strong>.
If you need to bring your user from step 1 to step 7, you need to guide them through the whole process, and it can be as simple as putting “Next” buttons on the bottom of each page.</p>
<p>Inside your app, this progression has to be clear, even more if step n+1 relies on the inputs from n.
A good and simple way to do that is to hide elements at step n+1 until all the requirements are fulfilled at step n.
Indeed, you can be sure that if step 2 relies on step 1 and you did not hide step 2 until you have everything you need, users will go to step 2 too soon.</p>
<p>Another way to help this readability is to ensure some kind of linear logic through the app: step 1, data upload, step 2, data cleaning, step 3, data visualization, step 4, exporting the report.
And organized your application around this logic, from left to right / right to left, or from top to bottom.</p>
<p>Let’s compare <a href="http://www.github.com/ColinFay/tidytuesday201942">tidytuesday201942</a> to <a href="https://github.com/colinfay/hexmake">hexmake</a>—one has a clear progression, <a href="https://github.com/colinfay/hexmake">hexmake</a>, and has been designed as such: the upper menus design the stickers, and then once they are filled you can download them.
There is a progression here, from top to bottom.
On the other hand, <a href="http://www.github.com/ColinFay/tidytuesday201942">tidytuesday201942</a> does not have a real progression inside it: you can navigate from one tab to the other at will.
Hence there are no visual clues of progression on that app.</p>
</div>
<div id="c.-inputs-and-errors" class="section level4 unnumbered">
<h4>C. Inputs and errors<a class="anchor" aria-label="anchor" href="#c.-inputs-and-errors"><i class="fas fa-link"></i></a>
</h4>
<p>You’re the one developing the app, so of course you are conscious of all the inputs that are needed to complete a specific task.
But your users might be new to the app; distracted while reading, they might not clearly understand what they are doing, maybe they do not really want to use your app but are forced to by their boss.
Or maybe your app is a little bit hard to understand, so it is hard to know what to do at first.</p>
<p>When building your app, you should <strong>make sure that if an input is necessary, it is made clear inside the app that it is</strong>.
One way to do this is simply by hiding UI elements that cannot be used until all the necessary inputs are there: for example, if a plot fails at rendering unless you have provided a selection, do not try to render this plot unless the selection is done.
If you are building a dashboard and tab 2 needs specific inputs from tab 1, and tab 3 specific inputs from tab 2, then be sure that tabs 2 and 3 are not clickable/available until all the required inputs are filled.
That way, you can help the user navigate through the app, by reducing the cognitive load of having to be sure that everything is correctly set up: if it is not clickable, that is because something is missing.</p>
<p>And do this for all the elements in your app: for example, with <a href="https://github.com/colinfay/hexmake">hexmake</a>, we start with filled fields and a hex sticker which is ready, so that even if you start with the download part, the application would still work.
If we had chosen another pattern, such as making the user fill in everything before being able to download, we would have needed to make downloading impossible until all fields are filled.
Another example from this application is the use of a MongoDB back-end to store the hex stickers: if the application is launched with <code>with_mongo</code> set to FALSE, the user will not see any buttons or field that refers to this option.</p>
<p>Think about all the times when you are ordering something on the internet, and need to fill specific fields before being able to click on the “Validate” button.
Well, apply that approach to your app; that will prevent unwanted mistakes.</p>
<p>Note that when using the <code><a href="https://rdrr.io/pkg/golem/man/utils_files.html">golem::use_utils_ui()</a></code> function, you will end with a script of UI tools, one being <code>with_red_star</code>, which adds a little red star at the end of the text you are entering, a common pattern for signifying that a field is mandatory:</p>
<div class="sourceCode" id="cb84"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">with_red_star</span><span class="op">(</span><span class="st">"Enter your name here"</span><span class="op">)</span></span></code></pre></div>
<span>Enter your name here<span style="color:red">*</span></span>
<p>Also, be generous when it comes to errors: it is rather frustrating for a user to see an app crash without any explanation about what went wrong.
If something fails or behaves unexpectedly, error messages are a key feature to help your user get on the right track.
And, at the same time, helping them correct themselves after an error is the best way to save you time answering angry emails!</p>
<p>Let’s refactor our app from before, using the <a href="https://github.com/merlinoa/shinyFeedback">shinyFeedback</a> <span class="citation">(<a href="references.html#ref-R-shinyFeedback">Merlino and Howard 2021</a>)</span> package.</p>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/merlinoa/shinyFeedback">shinyFeedback</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html">tagList</a></span><span class="op">(</span></span>
<span>    <span class="co"># Attaching the {shinyFeedback} dependencies</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shinyFeedback/man/useShinyFeedback.html">useShinyFeedback</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    <span class="co"># Recreating our selectInput + plot from before</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput</a></span><span class="op">(</span></span>
<span>      <span class="st">"species"</span>, </span>
<span>      <span class="st">"Choose one or more species"</span>,</span>
<span>      choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span>,</span>
<span>      multiple <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>      selected <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span>    <span class="op">)</span>, </span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput</a></span><span class="op">(</span><span class="st">"plt"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span></span>
<span>  <span class="va">input</span>, </span>
<span>  <span class="va">output</span>, </span>
<span>  <span class="va">session</span></span>
<span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">plt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="co"># If the length of the input is 0 </span></span>
<span>    <span class="co"># (i.e. nothing is selected),we show </span></span>
<span>    <span class="co"># a feedback to the user in the form of a text</span></span>
<span>    <span class="co"># If the length &gt; 0, we remove the feedback.</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">species</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span><span class="op">{</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/pkg/shinyFeedback/man/showFeedback.html">showFeedbackWarning</a></span><span class="op">(</span></span>
<span>        inputId <span class="op">=</span> <span class="st">"species"</span>,</span>
<span>        text <span class="op">=</span> <span class="st">"Select at least one Species"</span></span>
<span>      <span class="op">)</span>  </span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/pkg/shinyFeedback/man/hideFeedback.html">hideFeedback</a></span><span class="op">(</span><span class="st">"species"</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="co"># req() allows to stop further code execution </span></span>
<span>    <span class="co"># if the condition is not a truthy. </span></span>
<span>    <span class="co"># Hence if input$species is NULL, the computation </span></span>
<span>    <span class="co"># will be stopped here.</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/req.html">req</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span></span>
<span>      <span class="va">iris</span><span class="op">[</span> <span class="va">iris</span><span class="op">$</span><span class="va">Species</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">input</span><span class="op">$</span><span class="va">species</span>, <span class="op">]</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p>Here, as a user, it is way easier to understand what went wrong: we have moved from a red error <code>Error: need finite 'xlim' values</code> to a pop-up explaining what went wrong in the way the user configured the app.
Perfect way to reduce your bug tracker incoming tickets!</p>
<p>This is a way to do it natively in <a href="https://shiny.rstudio.com/">shiny</a>, but note that you can also use the <a href="https://github.com/daattali/shinyalert">shinyalert</a> package to implement alerts.
It is also possible to build your own with a little bit of HTML, CSS and JavaScript, as shown in <a href="https://github.com/ColinFay/notifyjsexample">the <code>notifyjsexample</code> repository</a>.</p>
</div>
</div>
</div>
<div id="the-danger-of-feature-creep" class="section level2" number="6.2">
<h2>
<span class="header-section-number">6.2</span> The danger of feature-creep<a class="anchor" aria-label="anchor" href="#the-danger-of-feature-creep"><i class="fas fa-link"></i></a>
</h2>
<div id="what-is-feature-creep" class="section level3" number="6.2.1">
<h3>
<span class="header-section-number">6.2.1</span> What is feature-creep?<a class="anchor" aria-label="anchor" href="#what-is-feature-creep"><i class="fas fa-link"></i></a>
</h3>
<blockquote>
<p>Even more often (at least in the commercial software world) excessive complexity comes from project requirements that are based on the marketing fad of the month rather than the reality of what customers want or software can actually deliver.
Many a good design has been smothered under marketing’s pile of “checklist features”—features that, often, no customer will ever use.
And a vicious circle operates; the competition thinks it has to compete with chrome by adding more chrome.
Pretty soon, massive bloat is the industry standard and everyone is using huge, buggy programs not even their developers can love.</p>
<p><em>The Art of UNIX Programming</em> <span class="citation">(<a href="references.html#ref-ericraymond2003">Raymond 2003</a>)</span></p>
</blockquote>
<p>Feature-creep is the process of <strong>adding features to the app that complicate the usage and the maintenance of the product, to the point that extreme feature-creep can lead to the product being entirely unusable and completely impossible to maintain</strong>.
This movement always starts well-intentioned: easier navigation, more information, more visualizations, modifiable elements, and so on and so forth.
It can come from project managers or devs, but users can also be responsible for asking for more and more features in the app.
If you are working in a context where the app specifications were designed by the users, or where you regularly meet the users for their feedback, they will most often be asking for more than what is efficiently implementable.
Behind feature-creep, there is always a will to make the user experience better, but adding more and more things most often leads to a slower app, worse user experience, steeper learning curve, and all these bad states that you do not want for your app.</p>
<p>Let’s take a rather common data analytic process: querying the data, cleaning it, then plotting and summarizing it.
And let’s say that we want to add to this a simple admin dashboard that tracks what the users do in the app.
It’s pretty tempting to think of this as a single entity and throw the whole codebase into one big project and hope for the best.
But let’s decompose what we have for a minute: one task is querying and cleaning, one other is analyzing, and one other is administration.
What is the point of having one big app for these three different tasks?
Splitting this project into three smaller apps will keep you from having a large app which is harder to maintain, and that might not perform as well.
Indeed, if you put everything into the same app, you will have to add extra mechanisms to prevent the admin panel from loading if your user simply wants to go to the extraction step, and inversely, a user visiting the admin panel probably does not need the extraction and analysis back-end to be loaded when they simply want to browse the way other users have been using the app.</p>
<blockquote>
<p>Rule of Parsimony: Write a big program only when it is clear by demonstration that nothing else will do.</p>
<p><em>The Art of UNIX Programming</em> <span class="citation">(<a href="references.html#ref-ericraymond2003">Raymond 2003</a>)</span></p>
</blockquote>
<p>But let’s focus on a smaller scope, and think about some things that can be thought of as feature-creeping your <a href="https://shiny.rstudio.com/">shiny</a> app.</p>
</div>
<div id="too-much-reactivity" class="section level3" number="6.2.2">
<h3>
<span class="header-section-number">6.2.2</span> Too much reactivity<a class="anchor" aria-label="anchor" href="#too-much-reactivity"><i class="fas fa-link"></i></a>
</h3>
<p>When designing an app, you will be designing the way users will navigate through the app.
And most of the time, we design with the idea that the users will perform a “correct selection” pattern.
Something like: “The user will select 40 on the <code><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput()</a></code> and the plot will update automatically. Then the user will select the element they need in the <code><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput()</a></code> and the plot will update automatically<em>”.
When in reality what will happen is: ”</em>The user will click on the slider, aim at 40 but will reach 45, then 37, then 42, before having the right amount of 40. Then they will select something in the <code><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput()</a></code>, but chances are, not the correct one from the first time.”</p>
<p>In real-life usage, <strong>people make mistakes while using the app</strong> (and even more when discovering the application): they do not move the sliders to the right place, so if the application reacts to all of the moves, the experience using the app can be bad: in the example above, full reactivity means that you will get 4 “wrong” computations of the plot before getting it right.</p>
<p>In the <a href="http://www.github.com/ColinFay/tidytuesday201942">tidytuesday201942</a> application example, let’s imagine that all the elements on the left automatically update the plot: especially in the context of a learning tool, reacting to any configuration change will launch a lot of useless computation, slowing the app in the long run, and making the user experience poorer.</p>

<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:06-ux-matters-10"></span>
<img src="img/tidytuesdayapp.png" alt="Snapshot of the {tidytuesday201942} {shiny} application." width="100%"><p class="caption">
FIGURE 6.5: Snapshot of the <a href="http://www.github.com/ColinFay/tidytuesday201942">tidytuesday201942</a> <a href="https://shiny.rstudio.com/">shiny</a> application.
</p>
</div>
<p>What should we do?
Prevent ourselves from implementing “full reactivity”: instead, we will add a user input that will launch the computation.
The simplest solution is a button so that the user signals to the application that now they are ready for the application to compute what they have parameterized.</p>
</div>
<div id="too-much-interactivity" class="section level3" number="6.2.3">
<h3>
<span class="header-section-number">6.2.3</span> Too much interactivity<a class="anchor" aria-label="anchor" href="#too-much-interactivity"><i class="fas fa-link"></i></a>
</h3>
<p>Users <strong>love</strong> interactive elements.
Maybe too much.
If you present a user with a choice between a simple graph and a dynamic one, chances are that they will spontaneously go for the dynamic graph.
Yet, dynamic is not always the solution, and for several reasons.</p>
<div id="a.-speed" class="section level4 unnumbered">
<h4>A. Speed<a class="anchor" aria-label="anchor" href="#a.-speed"><i class="fas fa-link"></i></a>
</h4>
<p>Dynamic elements are slower to render than fixed ones.
Most of the time (if not always), rendering dynamic elements means that you will bind some external libraries, and maybe you will have to make R convert data from one format to another.
For example, rendering a <a href="https://ggplot2.tidyverse.org">ggplot2</a> plot will be faster than rendering a <code>ggplotly()</code> plot, which has to convert from one format to another.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;Well, maybe the native &lt;code&gt;{plotly}&lt;/code&gt; &lt;span class="citation"&gt;(&lt;a href="references.html#ref-plotly2020"&gt;Sievert 2020&lt;/a&gt;)&lt;/span&gt; implementation is faster, but you get the spirit.&lt;/p&gt;'><sup>30</sup></a></p>
<p>That being said, not all visualization libraries are created equal, and choosing interactive visualization will not automatically lead to poorer performance: just keep in mind that this can happen.</p>
<p>Finally, if you do choose to use an interactive library for your application, try to, if possible, stick with one: it’s easier for you as a developer as it will lower the potential conflicts between libraries, and for the user, who will have to “learn” only one interactive mechanism.</p>
</div>
<div id="b.-visual-noise" class="section level4 unnumbered">
<h4>B. Visual noise<a class="anchor" aria-label="anchor" href="#b.-visual-noise"><i class="fas fa-link"></i></a>
</h4>
<p>More interactivity can lead to an element being less straightforward to understand.
Think for a minute about the <a href="https://plotly-r.com">plotly</a> outputs, as seen on Figure <a href="ux-matters.html#fig:06-ux-matters-11">6.6</a>.
They are awesome if you need this kind of interactivity, but for a common plot there might be too many things to understand.
Instead of focusing on the data, a lot of things show: buttons to zoom, to do selection, to export in png, and things like that.
With this kind of graph, users might lose some time focusing on understanding what the buttons do and why they are there, instead of focusing on what matters: getting insights from the data.</p>

<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:06-ux-matters-11"></span>
<img src="img/plotly.png" alt="Output of a {plotly} output, with all available buttons shown." width="100%"><p class="caption">
FIGURE 6.6: Output of a <a href="https://plotly-r.com">plotly</a> output, with all available buttons shown.
</p>
</div>
<p>Of course, these features are awesome if you need them: exploring data interactively is a fundamental strength for an application when the context is right.
But if there is no solid reason for using an interactive table, use a standard HTML table.
In other words, do not make things interactive if there is no value in adding interactivity; for example, if you have a small table and the users do not need to sort the table, filter, or navigate in pages, <code>datatable()</code> from <a href="https://github.com/rstudio/DT">DT</a> <span class="citation">(<a href="references.html#ref-R-DT">Xie, Cheng, and Tan 2023</a>)</span> will add more visual noise than adding value to the application.</p>
<p>Adding interactivity widgets (in most cases) means adding visual elements to your original content: in other words, you are adding visual components that might distract the user from focusing on the content of the information.</p>
<p>To sum up, a good rule to live by is that you should not add a feature for the sake of adding a feature.</p>
<blockquote>
<p>Less is more.</p>
<p><em>Ludwig Mies van der Rohe</em> (<a href="http://www.masterofdetails.fr/mies-van-der-rohe-less-is-more/" class="uri">http://www.masterofdetails.fr/mies-van-der-rohe-less-is-more/</a>)</p>
</blockquote>
</div>
</div>
</div>
<div id="web-accessibility" class="section level2" number="6.3">
<h2>
<span class="header-section-number">6.3</span> Web accessibility<a class="anchor" aria-label="anchor" href="#web-accessibility"><i class="fas fa-link"></i></a>
</h2>
<div id="about-accessibility" class="section level3" number="6.3.1">
<h3>
<span class="header-section-number">6.3.1</span> About accessibility<a class="anchor" aria-label="anchor" href="#about-accessibility"><i class="fas fa-link"></i></a>
</h3>
<p>When building professional <a href="https://shiny.rstudio.com/">shiny</a> applications, you have to keep in mind that, potentially, this app will be consumed by a large audience.
<strong>A large audience means that there is a chance that your app will be used by people with visual, mobility, or maybe cognitive disabilities</strong>.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;And of course, other type of disabilities.&lt;/p&gt;"><sup>31</sup></a>
Web accessibility deals with the process of making the web available to people with disabilities.</p>
<blockquote>
<p>The Web is fundamentally designed to work for all people, whatever their hardware, software, language, location, or ability.
When the Web meets this goal, it is accessible to people with a diverse range of hearing, movement, sight, and cognitive ability.</p>
<p><em>Accessibility in Context - The Web Accessibility Initiative</em> (<a href="https://www.w3.org/WAI/fundamentals/accessibility-intro/" class="uri">https://www.w3.org/WAI/fundamentals/accessibility-intro/</a>)</p>
</blockquote>
<p>When learning to code a web app through “canonical” courses, you will be introduced to web accessibility very early.
For example, you can learn about this straight from the first chapter of <a href="https://learn.freecodecamp.org/">learn.freecodecamp.org</a>.
The first course, “Responsive Web Design Certification”, has a chapter on web accessibility just after the one on HTML and CSS.</p>
</div>
<div id="making-your-app-accessible" class="section level3" number="6.3.2">
<h3>
<span class="header-section-number">6.3.2</span> Making your app accessible<a class="anchor" aria-label="anchor" href="#making-your-app-accessible"><i class="fas fa-link"></i></a>
</h3>
<div id="a.-hierarchy" class="section level4 unnumbered">
<h4>A. Hierarchy<a class="anchor" aria-label="anchor" href="#a.-hierarchy"><i class="fas fa-link"></i></a>
</h4>
<p>Headers are not just there to make your application more stylish.
<code>&lt;h1&gt;</code> to <code>&lt;h6&gt;</code> are there so they can create a hierarchy inside your web page: <code>&lt;h1&gt;</code> being more important (hierarchically speaking) than <code>&lt;h2&gt;</code>.
In a perfectly designed website, you would only have one header of level 1, a small number of level 2 headers, more headers of level 3, etc.
These elements are used by screen readers (devices used by blind people) to understand how the page is organized.</p>
<p>Hence, you should not rely on the header level for styling: do not use an <code>&lt;h1&gt;</code> because you need a larger title somewhere in your app.
If you want to increase the size of a header, use CSS, which we will see in an upcoming chapter.</p>
</div>
<div id="b.-html-element-semantic-tags-and-tag-metadata" class="section level4 unnumbered">
<h4>B. HTML element: Semantic tags, and tag metadata<a class="anchor" aria-label="anchor" href="#b.-html-element-semantic-tags-and-tag-metadata"><i class="fas fa-link"></i></a>
</h4>
<p>In HTML, there are two kinds of elements: the ones without “meanings” like <code>&lt;div&gt;</code> or <code>&lt;span&gt;</code>, and the ones which are considered meaningful, like <code>&lt;title&gt;</code> or <code>&lt;article&gt;</code>.
The second ones are called “semantic tags”, as they have a specific meaning in the sense that they define what they contain.
Same thing as with headers; these elements are crucial for the screen readers to understand what the page contains.</p>
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/htmltools">htmltools</a></span><span class="op">)</span></span>
<span><span class="co"># Using the `article` tag for a better semantic</span></span>
<span><span class="va">tags</span><span class="op">$</span><span class="fu">article</span><span class="op">(</span></span>
<span>  <span class="va">tags</span><span class="op">$</span><span class="fu">h2</span><span class="op">(</span><span class="st">"Title"</span><span class="op">)</span>,</span>
<span>  <span class="va">tags</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span><span class="st">"Content"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>One other HTML method you can use is tag attributes as metadata.
Tag attributes are complementary elements you can add to a tag to add information: most of the time, you will be using it to add a CSS class, an identifier, or maybe some events like <code>onclick</code>.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;See the JavaScript chapter.&lt;/p&gt;"><sup>32</sup></a>
But these can also be used to add, for example, an alternate text to an image: this <code>alt</code> being the one which is read when the image is not available, either because the page could not reach the resource, or because the person navigating the app is using a screen-to-speech technology.
To do this, we can use the <code><a href="https://rstudio.github.io/htmltools/reference/tagAppendAttributes.html">tagAppendAttributes()</a></code> function from <a href="https://shiny.rstudio.com/">shiny</a>, which allows us to add attributes to an HTML element.</p>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org">magrittr</a></span><span class="op">)</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="co"># Generating a UI with one plot</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html">tagList</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput</a></span><span class="op">(</span><span class="st">"plot"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>      <span class="co"># Adding the `alt` attribute to our plot</span></span>
<span>      <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagAppendAttributes.html">tagAppendAttributes</a></span><span class="op">(</span>alt <span class="op">=</span> <span class="st">"Plot of iris"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span></span>
<span>  <span class="va">input</span>, </span>
<span>  <span class="va">output</span>, </span>
<span>  <span class="va">session</span></span>
<span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="co"># Generating the plot from the server side,</span></span>
<span>  <span class="co"># no modification here </span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p>What makes these two things similar (semantic tags and tag metadata) is that they are both unseen by users without any impairment: if the image is correctly rendered and the user is capable of reading images, chances are that this user will see the image.
But these elements are made for people with disabilities, and especially users who might be using screen-to-speech technologies: these visitors use a software that scans the textual content of the page and reads it, and that helps navigate through the page.</p>
<p>This navigation is also crucial when it comes to screen-to-speech technology: such software will be able to read the <code>&lt;title&gt;</code> tag, jump to the <code>&lt;nav&gt;</code>, or straight to the <code>&lt;article&gt;</code> on the page.
Hence the importance of structuring the page: these technologies need the app to be built in a structured way, so that it is possible to jump from one section to another, and other common tasks a fully capable user will commonly do.</p>
<p>Some other tags exist and can be used for semantic purpose: for example, <code>&lt;address&gt;</code>, <code>&lt;video&gt;</code>, or <code>&lt;label&gt;</code>.</p>
</div>
<div id="c.-navigation" class="section level4 unnumbered">
<h4>C. Navigation<a class="anchor" aria-label="anchor" href="#c.-navigation"><i class="fas fa-link"></i></a>
</h4>
<p>Your app user might also have mobility impairment.
For example, some with Parkinson’s disease might be using your app, or someone with a handicap making it harder for them to move their hand and click.
For these users, moving an arm to grab the mouse might be challenging, and they might be navigating the web using their keyboard only.</p>
<p>When building your app, thinking about how these users will be able to use it is crucial: maybe there are so many buttons to which they need to <strong>move their mouse and eventually click</strong> that they will not be able to use it.
As much as possible, make everything doable with a keyboard: for example, if you have a <code><a href="https://rdrr.io/pkg/shiny/man/textInput.html">textInput()</a></code> with a validation button below, allow the user to validate by pressing ENTER on their keyboard.
This can, for example, be done with the <code>{nter}</code> package, which is available only on GitHub<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;&lt;a href="https://github.com/JohnCoene/nter" class="uri"&gt;https://github.com/JohnCoene/nter&lt;/a&gt;&lt;/p&gt;'><sup>33</sup></a> at the time of writing these lines.</p>
<div class="sourceCode" id="cb88"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Adapted from https://github.com/JohnCoene/nter</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">nter</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/">shiny</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="co"># Setting a text input and a button</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textInput.html">textInput</a></span><span class="op">(</span><span class="st">"text"</span>, <span class="st">""</span><span class="op">)</span>,</span>
<span>  <span class="co"># This button will be clicked when 'Enter' is pressed in </span></span>
<span>  <span class="co"># the textInput text</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/actionButton.html">actionButton</a></span><span class="op">(</span><span class="st">"send"</span>, <span class="st">"Do not click hit enter"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html">verbatimTextOutput</a></span><span class="op">(</span><span class="st">"typed"</span><span class="op">)</span>,</span>
<span>  <span class="co"># define the rule</span></span>
<span>  <span class="fu">nter</span><span class="op">(</span><span class="st">"send"</span>, <span class="st">"text"</span><span class="op">)</span> </span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactiveValues.html">reactiveValues</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Define the behavior on click</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html">observeEvent</a></span><span class="op">(</span> <span class="va">input</span><span class="op">$</span><span class="va">send</span> , <span class="op">{</span></span>
<span>    <span class="va">r</span><span class="op">$</span><span class="va">printed</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">text</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Render the text</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">typed</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html">renderPrint</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">r</span><span class="op">$</span><span class="va">printed</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="d.-color-choices" class="section level4 unnumbered">
<h4>D. Color choices<a class="anchor" aria-label="anchor" href="#d.-color-choices"><i class="fas fa-link"></i></a>
</h4>
<p>Color blindness is also a common impairment when it comes to web accessibility.
And it is a rather common deficiency: according to <a href="http://www.colourblindawareness.org/">colourblindawareness.org</a>, “color (color) blindness (color vision deficiency, or CVD) affects approximately 1 in 12 men (8%) and 1 in 200 women in the world”.</p>
<p>Keeping in mind this prevalence of color blindness is even more important in the context of <a href="https://shiny.rstudio.com/">shiny</a>, where we are developing data science products, which most often include data visualization.
If designed wrong, dataviz can be unreadable for some specific type of color blindness.
That is why we recommend using the <code>viridis</code> <span class="citation">(<a href="references.html#ref-R-viridis">Garnier 2021</a>)</span> palette, which has been created to be readable by the most common types of color blindness.</p>
<p>Here are, for example, a visualization through the lens of various typed of color blindness:</p>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># This function generates a plot for an </span></span>
<span><span class="co"># internal matrix, and takes a palette as</span></span>
<span><span class="co"># parameter so that we can display the </span></span>
<span><span class="co"># plot using various palettes, as the</span></span>
<span><span class="co"># palette should be a function</span></span>
<span><span class="va">with_palette</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">palette</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">8</span> <span class="op">*</span> <span class="va">pi</span>, <span class="fl">8</span> <span class="op">*</span> <span class="va">pi</span>, len <span class="op">=</span> <span class="fl">40</span><span class="op">)</span></span>
<span>  <span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/outer.html">outer</a></span><span class="op">(</span><span class="va">x</span><span class="op">^</span><span class="fl">2</span>, <span class="va">y</span><span class="op">^</span><span class="fl">2</span>, <span class="st">"+"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">cos</a></span><span class="op">(</span><span class="va">r</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">r</span> <span class="op">/</span> <span class="op">(</span><span class="fl">2</span> <span class="op">*</span> <span class="va">pi</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/filled.contour.html">filled.contour</a></span><span class="op">(</span></span>
<span>    <span class="va">z</span>,</span>
<span>    axes <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    color.palette <span class="op">=</span> <span class="va">palette</span>,</span>
<span>    asp <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>With the <code>jet.colors</code> palette from <a href="https://cran.r-project.org/package=matlab">matlab</a> <span class="citation">(<a href="references.html#ref-R-matlab">Roebuck 2022</a>)</span></p>

<div class="sourceCode" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">with_palette</span><span class="op">(</span><span class="fu">matlab</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/matlab/man/jet.colors.html">jet.colors</a></span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:06-ux-matters-16"></span>
<img src="engineering-production-grade-shiny-apps_files/figure-html/06-ux-matters-16-1.png" alt="Original view of jet.colors palette from {matlab}." width="672"><p class="caption">
FIGURE 6.7: Original view of <code>jet.colors</code> palette from <a href="https://cran.r-project.org/package=matlab">matlab</a>.
</p>
</div>
<p>See Figure <a href="ux-matters.html#fig:06-ux-matters-16">6.7</a>.</p>

<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">with_palette</span><span class="op">(</span><span class="fu">viridis</span><span class="fu">::</span><span class="va"><a href="https://sjmgarnier.github.io/viridisLite/reference/viridis.html">viridis</a></span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:06-ux-matters-17"></span>
<img src="engineering-production-grade-shiny-apps_files/figure-html/06-ux-matters-17-1.png" alt="Original view of viridis palette from {viridis}." width="672"><p class="caption">
FIGURE 6.8: Original view of <code>viridis</code> palette from <a href="https://sjmgarnier.github.io/viridis/">viridis</a>.
</p>
</div>
<p>See Figure <a href="ux-matters.html#fig:06-ux-matters-17">6.8</a>.</p>
<p>Even without color blindness, it’s already way more readable.
But let’s now use the <code>{dichromat}</code> <span class="citation">(<a href="references.html#ref-R-dichromat">Lumley 2022</a>)</span> package to simulate color blindness.</p>
<div class="sourceCode" id="cb92"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">dichromat</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>Simulation of deuteranopia with <code>jet.colors</code> and <code>viridis</code>
</li>
</ul>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">deutan_jet_color</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu">matlab</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/matlab/man/jet.colors.html">jet.colors</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/dichromat/man/dichromat.html">dichromat</a></span><span class="op">(</span><span class="va">cols</span>, type <span class="op">=</span> <span class="st">"deutan"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">with_palette</span><span class="op">(</span> <span class="va">deutan_jet_color</span> <span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:06-ux-matters-19"></span>
<img src="engineering-production-grade-shiny-apps_files/figure-html/06-ux-matters-19-1.png" alt="View of jet.colors palette for a deuteranopian." width="672"><p class="caption">
FIGURE 6.9: View of <code>jet.colors</code> palette for a deuteranopian.
</p>
</div>
<p>See Figure <a href="ux-matters.html#fig:06-ux-matters-19">6.9</a>.</p>

<div class="sourceCode" id="cb94"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">deutan_viridis</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu">viridis</span><span class="fu">::</span><span class="fu"><a href="https://sjmgarnier.github.io/viridisLite/reference/viridis.html">viridis</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/dichromat/man/dichromat.html">dichromat</a></span><span class="op">(</span><span class="va">cols</span>, type <span class="op">=</span> <span class="st">"deutan"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">with_palette</span><span class="op">(</span> <span class="va">deutan_viridis</span> <span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:06-ux-matters-20"></span>
<img src="engineering-production-grade-shiny-apps_files/figure-html/06-ux-matters-20-1.png" alt="View of viridis palette for a deuteranopian." width="672"><p class="caption">
FIGURE 6.10: View of <code>viridis</code> palette for a deuteranopian.
</p>
</div>
<p>See Figure <a href="ux-matters.html#fig:06-ux-matters-20">6.10</a>.</p>
<ul>
<li>Simulation of protanopia with <code>jet.colors</code> and <code>viridis</code>
</li>
</ul>
<div class="sourceCode" id="cb95"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">protan_jet_color</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu">matlab</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/matlab/man/jet.colors.html">jet.colors</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/dichromat/man/dichromat.html">dichromat</a></span><span class="op">(</span><span class="va">cols</span>, type <span class="op">=</span> <span class="st">"protan"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">with_palette</span><span class="op">(</span> <span class="va">protan_jet_color</span> <span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:06-ux-matters-21"></span>
<img src="engineering-production-grade-shiny-apps_files/figure-html/06-ux-matters-21-1.png" alt="View of jet.colors palette for a protanopian." width="672"><p class="caption">
FIGURE 6.11: View of <code>jet.colors</code> palette for a protanopian.
</p>
</div>
<p>See Figure <a href="ux-matters.html#fig:06-ux-matters-21">6.11</a>.</p>

<div class="sourceCode" id="cb96"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">protan_viridis</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu">viridis</span><span class="fu">::</span><span class="fu"><a href="https://sjmgarnier.github.io/viridisLite/reference/viridis.html">viridis</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/dichromat/man/dichromat.html">dichromat</a></span><span class="op">(</span><span class="va">cols</span>, type <span class="op">=</span> <span class="st">"protan"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">with_palette</span><span class="op">(</span> <span class="va">protan_viridis</span> <span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:06-ux-matters-22"></span>
<img src="engineering-production-grade-shiny-apps_files/figure-html/06-ux-matters-22-1.png" alt="View of viridis palette for a protanopian." width="672"><p class="caption">
FIGURE 6.12: View of <code>viridis</code> palette for a protanopian.
</p>
</div>
<p>See Figure <a href="ux-matters.html#fig:06-ux-matters-22">6.12</a>.</p>
<ul>
<li>Simulation of tritanopia with <code>jet.colors</code> and <code>viridis</code>
</li>
</ul>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tritan_jet_color</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu">matlab</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/matlab/man/jet.colors.html">jet.colors</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/dichromat/man/dichromat.html">dichromat</a></span><span class="op">(</span><span class="va">cols</span>, type <span class="op">=</span> <span class="st">"tritan"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">with_palette</span><span class="op">(</span> <span class="va">tritan_jet_color</span> <span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:06-ux-matters-23"></span>
<img src="engineering-production-grade-shiny-apps_files/figure-html/06-ux-matters-23-1.png" alt="View of jet.colors palette for a tritanopian." width="100%"><p class="caption">
FIGURE 6.13: View of <code>jet.colors</code> palette for a tritanopian.
</p>
</div>
<p>See Figure <a href="ux-matters.html#fig:06-ux-matters-23">6.13</a>.</p>

<div class="sourceCode" id="cb98"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tritan_viridis</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu">viridis</span><span class="fu">::</span><span class="fu"><a href="https://sjmgarnier.github.io/viridisLite/reference/viridis.html">viridis</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/dichromat/man/dichromat.html">dichromat</a></span><span class="op">(</span><span class="va">cols</span>, type <span class="op">=</span> <span class="st">"tritan"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">with_palette</span><span class="op">(</span> <span class="va">tritan_viridis</span> <span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:06-ux-matters-24"></span>
<img src="engineering-production-grade-shiny-apps_files/figure-html/06-ux-matters-24-1.png" alt="View of viridis palette for a tritanopian." width="100%"><p class="caption">
FIGURE 6.14: View of <code>viridis</code> palette for a tritanopian.
</p>
</div>
<p>See Figure <a href="ux-matters.html#fig:06-ux-matters-24">6.14</a>.</p>
<p>As you can see, the <code>viridis</code> palette always gives a more readable graph than the <code>jet.colors</code> one.
And, on the plus side, it looks fantastic.
Do not hesitate to try and use it!</p>
</div>
</div>
<div id="evaluating-your-app-accessibility-and-further-reading" class="section level3" number="6.3.3">
<h3>
<span class="header-section-number">6.3.3</span> Evaluating your app accessibility and further reading<a class="anchor" aria-label="anchor" href="#evaluating-your-app-accessibility-and-further-reading"><i class="fas fa-link"></i></a>
</h3>
<div id="a.-emulate-vision-deficiency-using-google-chrome" class="section level4 unnumbered">
<h4>A. Emulate vision deficiency using Google Chrome<a class="anchor" aria-label="anchor" href="#a.-emulate-vision-deficiency-using-google-chrome"><i class="fas fa-link"></i></a>
</h4>
<p>Google Chrome has a built-in feature that allows you to simulate some vision deficiency.
To access this feature, open your developer console, then open the “More Tools” &gt; “Rendering” menu.
There, you will find at the very bottom an input called “Emulate vision deficiencies”, which will allow you to simulate Blurred vision, and four types of color blindness.</p>
<p>For example, Figure <a href="ux-matters.html#fig:06-ux-matters-25">6.15</a> and Figure <a href="ux-matters.html#fig:06-ux-matters-26">6.16</a> emulate blurred vision or deuteranopia on the <a href="https://github.com/colinfay/hexmake">hexmake</a> app.</p>

<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:06-ux-matters-25"></span>
<img src="img/blurred-vision.png" alt="Emulating blurred vision with Google Chrome." width="100%"><p class="caption">
FIGURE 6.15: Emulating blurred vision with Google Chrome.
</p>
</div>

<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:06-ux-matters-26"></span>
<img src="img/deuto.png" alt="Emulating deuteranopia with Google Chrome." width="100%"><p class="caption">
FIGURE 6.16: Emulating deuteranopia with Google Chrome.
</p>
</div>
</div>
<div id="b.-external-tools" class="section level4 unnumbered">
<h4>B. External tools<a class="anchor" aria-label="anchor" href="#b.-external-tools"><i class="fas fa-link"></i></a>
</h4>
<p>There are several tools on the web that can evaluate the accessibility of your web page.
You can also use a Google Chrome built-in tool called <code>Lighthouse</code> (we will come back to it in the Testing chapter).</p>
<ul>
<li><p><a href="https://github.com/IBMa/equal-access">IBM Equal Access Toolkit</a> is an open source tool to monitor the accessibility of a web application and comes with Google Chrome and Firefox Extensions.</p></li>
<li><p><a href="https://www.w3.org/WAI/test-evaluate/">Evaluating Web Accessibility</a> comes with lengthy reports and advice about checking the accessibility of your website.</p></li>
<li><p><a href="https://www.webaccessibility.com/" class="uri">https://www.webaccessibility.com/</a> has an online checker for web page accessibility, and allows you to freely test 5 pages.
The result of a test on the <a href="https://github.com/colinfay/hexmake">hexmake</a> application can be seen on Figure <a href="ux-matters.html#fig:06-ux-matters-27">6.17</a>.</p></li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:06-ux-matters-27"></span>
<img src="img/hexmakeaccessibility.png" alt="Web accessibility results for the {hexmake} application." width="100%"><p class="caption">
FIGURE 6.17: Web accessibility results for the <a href="https://github.com/colinfay/hexmake">hexmake</a> application.
</p>
</div>
<p>Note that you can also add a Chrome or Firefox extension for <a href="https://www.webaccessibility.com" class="uri">https://www.webaccessibility.com</a>, making it more straightforward to run your accessibility tests.
It also comes with tools for Java and JavaScript, and notably with a NodeJS module, so it can be used programmatically, for example, in your Continuous Integration suite.</p>

</div>
</div>
</div>
</div>

<hr>
<footer><a href="https://rtask.thinkr.fr"><img src="img/logo400_129.png" alt="ThinkR Website"></a>
<!--https://yihui.org/en/2018/09/target-blank/-->
<script>
  (function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script></footer><div class="chapter-nav">
<div class="prev"><a href="workflow.html"><span class="header-section-number">5</span> The Workflow</a></div>
<div class="next"><a href="dont-rush-into-coding.html"><span class="header-section-number">7</span> Don’t Rush into Coding</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#ux-matters"><span class="header-section-number">6</span> UX Matters</a></li>
<li>
<a class="nav-link" href="#simplicity-is-gold"><span class="header-section-number">6.1</span> Simplicity is gold</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#how-we-read-the-web-scanning-content"><span class="header-section-number">6.1.1</span> How we read the web: Scanning content</a></li>
<li><a class="nav-link" href="#building-a-self-evident-app-or-at-least-self-explanatory"><span class="header-section-number">6.1.2</span> Building a self-evident app (or at least self-explanatory)</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#the-danger-of-feature-creep"><span class="header-section-number">6.2</span> The danger of feature-creep</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#what-is-feature-creep"><span class="header-section-number">6.2.1</span> What is feature-creep?</a></li>
<li><a class="nav-link" href="#too-much-reactivity"><span class="header-section-number">6.2.2</span> Too much reactivity</a></li>
<li><a class="nav-link" href="#too-much-interactivity"><span class="header-section-number">6.2.3</span> Too much interactivity</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#web-accessibility"><span class="header-section-number">6.3</span> Web accessibility</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#about-accessibility"><span class="header-section-number">6.3.1</span> About accessibility</a></li>
<li><a class="nav-link" href="#making-your-app-accessible"><span class="header-section-number">6.3.2</span> Making your app accessible</a></li>
<li><a class="nav-link" href="#evaluating-your-app-accessibility-and-further-reading"><span class="header-section-number">6.3.3</span> Evaluating your app accessibility and further reading</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/ThinkR-open/engineering-shiny-book/blob/master/06-ux-matters.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/ThinkR-open/engineering-shiny-book/edit/master/06-ux-matters.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Engineering Production-Grade Shiny Apps</strong>" was written by Colin Fay, Sébastien Rochette, Vincent Guyader, Cervan Girard. It was last built on 2024-03-12.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
